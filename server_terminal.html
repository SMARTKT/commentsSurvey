<!DOCTYPE html>
<html>
  <head>
    <title>What a comment!</title>
    <link href="./styles/prism.css" rel="stylesheet" />
    <link href="./styles/form.css" rel="stylesheet" />
  </head>
    <style>
	.btnc {

	    background-color: #1e7ef4;
	    border: none;
	    color: white;
	    padding: 8px 12px;
	    text-align: center;
	    font-size: 12px;
	    font-weight: bold;
	    margin: 4px 2px;
	    opacity: 0.6;
	    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);

	    transition: 0.4s;
	  }

	  .btnc:hover {opacity: 1}
	  </style>
  <body>

  	<div class="form-popup" id="myForm">
	  <form action="/action_page.php" class="form-container" onsubmit="return postToGoogle();">

      <label for="emailField"><b>Email id</b></label>
      <input type="email" id="emailField" name="emailField" required><br>

      <label for="nameField"><b>Full name</b></label>
      <input type="text" name="nameField" id="nameField" required><br>

      <label for="designationField"><b>Designation</b></label>
      <input type="text" name="designationField" id="designationField" placeholder="Student / Employee" required><br>

      <label for="affiliationField"><b>Affiliation</b></label>
      <input type="text" name="affiliationField" id="affiliationField" placeholder="University / Company" required><br>

	    <label for="commentUsefulness"><b>This comment is </b></label>
	    <input id="commentUseful" type="radio" name="commentUsefulness" value="U" required> Useful
		<input id="commentNotUseful" type="radio" name="commentUsefulness" value="NU" required> Useless
    <input id="commentPartialUseful" type="radio" name="commentUsefulness" value="PU" required> Partially Useful<br>

	    <label for="commentView"></label>
	    <input id="commentView" type="text" placeholder="Why do you think so?" name="commentView" required>

	    <label for="commentAlternate"></label>
	    <textarea id="commentAlternate" type="text" placeholder="If you would have written a comment for that portion of the code, what would you have written? (optional)" name="commentAlternate" style="height:100px;"></textarea> 

	    <button type="submit" class="btn">Submit</button>
	    <button id="closeFormButton" type="reset" class="btn cancel" onclick="closeForm()">Close</button>
	  </form>
	</div>


  	<script src="./javascript/prism.js"></script>
  	<pre>
  		<table>
  			<!--start-->
<div hidden id="commentCodeID">server_terminal</div><tr>
<td><pre><code class="language-c">/* terminal.c -- controlling the terminal with termcap. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Copyright (C) 1996-2006 Free Software Foundation, Inc. </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   This file is part of the GNU Readline Library, a library for </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   reading lines of text with interactive input and history editing. </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   The GNU Readline Library is free software; you can redistribute it </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   and/or modify it under the terms of the GNU General Public License </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   as published by the Free Software Foundation; either version 2, or </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   (at your option) any later version. </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   The GNU Readline Library is distributed in the hope that it will be </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   useful, but WITHOUT ANY WARRANTY; without even the implied warranty </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   GNU General Public License for more details. </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   The GNU General Public License is often shipped with GNU software, and </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   is generally kept in a file called COPYING or LICENSE.  If you do not </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   have a copy of the license, write to the Free Software Foundation, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   51 Franklin Street, Fifth Floor, Boston, MA  02110-1335  USA. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#define READLINE_LIBRARY </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (HAVE_CONFIG_H) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include "config_readline.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include &lt;sys/types.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "posixstat.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include &lt;fcntl.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (HAVE_SYS_FILE_H) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;sys/file.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* HAVE_SYS_FILE_H */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (HAVE_UNISTD_H) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;unistd.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* HAVE_UNISTD_H */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (HAVE_STDLIB_H) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;stdlib.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#else </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include "ansi_stdlib.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* HAVE_STDLIB_H */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (HAVE_LOCALE_H) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;locale.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include &lt;stdio.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* System-specific feature definitions and include files. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "rldefs.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (GWINSZ_IN_SYS_IOCTL) && !defined (TIOCGWINSZ) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;sys/ioctl.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* GWINSZ_IN_SYS_IOCTL && !TIOCGWINSZ */ </code></pre></td>
<td><button class="btnc" type="button" id="comment1" onclick="openForm(this.id)">Comment 1</button></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "rltty.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "tcap.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Some standard library routines. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "readline.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "history.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "rlprivate.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "rlshell.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#include "xmalloc.h" </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (__MINGW32__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;windows.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  include &lt;wincon.h> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void _win_get_screensize PARAMS((int *, int *)); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (__EMX__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void _emx_get_screensize PARAMS((int *, int *)); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#define CUSTOM_REDISPLAY_FUNC() (rl_redisplay_function != rl_redisplay) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#define CUSTOM_INPUT_FUNC() (rl_getc_function != rl_getc) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*  If the calling application sets this to a non-zero value, readline will </code></pre></td>
<td><button class="btnc" type="button" id="comment2" onclick="openForm(this.id)">Comment 2</button></td>
</tr>
<tr>
<td><pre><code class="language-c">    use the $LINES and $COLUMNS environment variables to set its idea of the </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    window size before interrogating the kernel. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int rl_prefer_env_winsize = 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* **************************************************************** */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*								    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*			Terminal and Termcap			    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*								    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* **************************************************************** */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static char *term_buffer = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static char *term_string_buffer = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static int tcap_initialized; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if !defined (__linux__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  if defined (__EMX__) || defined (NEED_EXTERN_PC) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">extern  </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#  endif /* __EMX__ || NEED_EXTERN_PC */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">char PC, *BC, *UP; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* __linux__ */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Some strings to control terminal actions.  These are output by tputs (). */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_clreol; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_clrpag; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_cr; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_backspace; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">char _rl_term_backspace_default[2] = { '\b', 0 }; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_goto; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_pc; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Non-zero if we determine that the terminal can do character insertion. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int _rl_terminal_can_insert = 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* How to insert characters. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_im; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_ei; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_ic; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_ip; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_IC; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* How to delete characters. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_dc; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_DC; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_forward_char; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* How to go up a line. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char *_rl_term_up; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">char _rl_term_up_default[2] = { 0, 0 }; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* A visible bell; char if the terminal can be made to flash the screen. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_visible_bell; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Non-zero means the terminal can auto-wrap lines. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int _rl_term_autowrap = -1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Non-zero means that this terminal has a meta key. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static int term_has_meta; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* The sequences to write to turn on and off the meta key, if this </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   terminal has one. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_mm; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_mo; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* The key sequences output by the arrow keys, if this terminal has any. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_ku; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kd; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kr; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kl; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* How to initialize and reset the arrow keys, if this terminal has any. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_ks; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_ke; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* The key sequences sent by the Home and End keys, if any. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kh; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kH; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_at7;	/* @7 */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Delete key */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kD; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Insert key */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_kI; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Cursor control */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_vs;	/* very visible */ </code></pre></td>
<td><button class="btnc" type="button" id="comment3" onclick="openForm(this.id)">Comment 3</button></td>
</tr>
<tr>
<td><pre><code class="language-c">static const char *_rl_term_ve;	/* normal */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void bind_termcap_arrow_keys PARAMS((Keymap)); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Variables that hold the screen dimensions, used by the display code. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int _rl_screenwidth, _rl_screenheight, _rl_screenchars; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Non-zero means the user wants to enable the keypad. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int _rl_enable_keypad; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Non-zero means the user wants to enable a meta key. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int _rl_enable_meta = 1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (__EMX__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_emx_get_screensize (swp, shp) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int *swp, *shp; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  int sz[2]; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _scrsize (sz); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (swp) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    *swp = sz[0]; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (shp) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    *shp = sz[1]; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (__MINGW32__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_win_get_screensize (swp, shp) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int *swp, *shp; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  HANDLE hConOut; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  CONSOLE_SCREEN_BUFFER_INFO scr; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  hConOut = GetStdHandle (STD_OUTPUT_HANDLE); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (hConOut != INVALID_HANDLE_VALUE) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (GetConsoleScreenBufferInfo (hConOut, &scr)) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  *swp = scr.dwSize.X; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  *shp = scr.srWindow.Bottom - scr.srWindow.Top + 1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Get readline's idea of the screen size.  TTY is a file descriptor open </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   to the terminal.  If IGNORE_ENV is true, we do not pay attention to the </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   values of $LINES and $COLUMNS.  The tests for TERM_STRING_BUFFER being </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   non-null serve to check whether or not we have initialized termcap. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_get_screen_size (tty, ignore_env) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int tty, ignore_env; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  char *ss; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (TIOCGWINSZ) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  struct winsize window_size; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* TIOCGWINSZ */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  int wr, wc; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  wr = wc = -1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (TIOCGWINSZ) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (ioctl (tty, TIOCGWINSZ, &window_size) == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      wc = (int) window_size.ws_col; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      wr = (int) window_size.ws_row; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* TIOCGWINSZ */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (__EMX__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _emx_get_screensize (&wc, &wr); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#elif defined (__MINGW32__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _win_get_screensize (&wc, &wr); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (ignore_env || rl_prefer_env_winsize == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_screenwidth = wc; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_screenheight = wr; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  else </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_screenwidth = _rl_screenheight = -1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* Environment variable COLUMNS overrides setting of "co" if IGNORE_ENV </code></pre></td>
<td><button class="btnc" type="button" id="comment4" onclick="openForm(this.id)">Comment 4</button></td>
</tr>
<tr>
<td><pre><code class="language-c">     is unset.  If we prefer the environment, check it first before </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     assigning the value returned by the kernel. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_screenwidth &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (ignore_env == 0 && (ss = sh_get_env_value ("COLUMNS"))) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	_rl_screenwidth = atoi (ss); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_screenwidth &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        _rl_screenwidth = wc; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if !defined (__DJGPP__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_screenwidth &lt;= 0 && term_string_buffer) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	_rl_screenwidth = tgetnum ((char *)"co"); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* Environment variable LINES overrides setting of "li" if IGNORE_ENV </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     is unset. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_screenheight &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (ignore_env == 0 && (ss = sh_get_env_value ("LINES"))) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	_rl_screenheight = atoi (ss); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_screenheight &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        _rl_screenheight = wr; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if !defined (__DJGPP__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_screenheight &lt;= 0 && term_string_buffer) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	_rl_screenheight = tgetnum ((char *)"li"); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* If all else fails, default to 80x24 terminal. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_screenwidth &lt;= 1) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_screenwidth = 80; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_screenheight &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_screenheight = 24; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* If we're being compiled as part of bash, set the environment </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     variables $LINES and $COLUMNS to new values.  Otherwise, just </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     do a pair of putenv () or setenv () calls. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  sh_set_lines_and_columns (_rl_screenheight, _rl_screenwidth); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_term_autowrap == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_screenwidth--; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_screenchars = _rl_screenwidth * _rl_screenheight; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_set_screen_size (rows, cols) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int rows, cols; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_term_autowrap == -1) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_init_terminal_io (rl_terminal_name); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (rows > 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_screenheight = rows; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (cols > 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_screenwidth = cols; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_term_autowrap == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	_rl_screenwidth--; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (rows > 0 || cols > 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_screenchars = _rl_screenwidth * _rl_screenheight; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_set_screen_size (rows, cols) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int rows, cols; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_set_screen_size (rows, cols); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_get_screen_size (rows, cols) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int *rows, *cols; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (rows) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    *rows = _rl_screenheight; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (cols) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    *cols = _rl_screenwidth; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_reset_screen_size () </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_get_screen_size (fileno (rl_instream), 0); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_resize_terminal () </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (readline_echoing_p) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_get_screen_size (fileno (rl_instream), 1); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (CUSTOM_REDISPLAY_FUNC ()) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	rl_forced_update_display (); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      else </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	_rl_redisplay_after_sigwinch (); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">struct _tc_string { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     const char *tc_var; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     const char **tc_value; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">}; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* This should be kept sorted, just in case we decide to change the </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   search algorithm to something smarter. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static struct _tc_string tc_strings[] = </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "@7", &_rl_term_at7 }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "DC", &_rl_term_DC }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "IC", &_rl_term_IC }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ce", &_rl_term_clreol }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "cl", &_rl_term_clrpag }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "cr", &_rl_term_cr }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "dc", &_rl_term_dc }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ei", &_rl_term_ei }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ic", &_rl_term_ic }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "im", &_rl_term_im }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kD", &_rl_term_kD },	/* delete */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kH", &_rl_term_kH },	/* home down ?? */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kI", &_rl_term_kI },	/* insert */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kd", &_rl_term_kd }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ke", &_rl_term_ke },	/* end keypad mode */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kh", &_rl_term_kh },	/* home */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kl", &_rl_term_kl }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "kr", &_rl_term_kr }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ks", &_rl_term_ks },	/* start keypad mode */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ku", &_rl_term_ku }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "le", &_rl_term_backspace }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "mm", &_rl_term_mm }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "mo", &_rl_term_mo }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "nd", &_rl_term_forward_char }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "pc", &_rl_term_pc }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "up", &_rl_term_up }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "vb", &_rl_visible_bell }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "vs", &_rl_term_vs }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  { "ve", &_rl_term_ve }, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">}; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#define NUM_TC_STRINGS (sizeof (tc_strings) / sizeof (struct _tc_string)) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Read the desired terminal capability strings into BP.  The capabilities </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   are described in the TC_STRINGS table. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">get_term_capabilities (bp) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     char **bp; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if !defined (__DJGPP__)	/* XXX - doesn't DJGPP have a termcap library? */ </code></pre></td>
<td><button class="btnc" type="button" id="comment5" onclick="openForm(this.id)">Comment 5</button></td>
</tr>
<tr>
<td><pre><code class="language-c">  register unsigned int i; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  for (i = 0; i &lt; NUM_TC_STRINGS; i++) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    *(tc_strings[i].tc_value) = tgetstr ((char *)tc_strings[i].tc_var, bp); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  tcap_initialized = 1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_init_terminal_io (terminal_name) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     const char *terminal_name; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  const char *term; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  char *buffer; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  int tty, tgetent_ret; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  term = terminal_name ? terminal_name : sh_get_env_value ("TERM"); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_term_clrpag = _rl_term_cr = _rl_term_clreol = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  tty = rl_instream ? fileno (rl_instream) : 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (term == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    term = "dumb"; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* I've separated this out for later work on not calling tgetent at all </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     if the calling application has supplied a custom redisplay function, </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     (and possibly if the application has supplied a custom input function). */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (CUSTOM_REDISPLAY_FUNC()) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      tgetent_ret = -1; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  else </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (term_string_buffer == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	term_string_buffer = (char *)xmalloc(2032); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (term_buffer == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	term_buffer = (char *)xmalloc(4080); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      buffer = term_string_buffer; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      tgetent_ret = tgetent (term_buffer, term); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (tgetent_ret &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      FREE (term_string_buffer); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      FREE (term_buffer); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      buffer = term_buffer = term_string_buffer = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_autowrap = 0;	/* used by _rl_get_screen_size */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      /* Allow calling application to set default height and width, using </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	 rl_set_screen_size */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_screenwidth &lt;= 0 || _rl_screenheight &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (__EMX__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  _emx_get_screensize (&_rl_screenwidth, &_rl_screenheight); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  _rl_screenwidth--; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#else /* !__EMX__ */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  _rl_get_screen_size (tty, 0); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* !__EMX__ */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      /* Defaults. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (_rl_screenwidth &lt;= 0 || _rl_screenheight &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  _rl_screenwidth = 79; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  _rl_screenheight = 24; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      /* Everything below here is used by the redisplay code (tputs). */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_screenchars = _rl_screenwidth * _rl_screenheight; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_cr = "\r"; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_im = _rl_term_ei = _rl_term_ic = _rl_term_IC = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_up = _rl_term_dc = _rl_term_DC = _rl_visible_bell = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_ku = _rl_term_kd = _rl_term_kl = _rl_term_kr = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_kh = _rl_term_kH = _rl_term_kI = _rl_term_kD = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_ks = _rl_term_ke = _rl_term_at7 = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_mm = _rl_term_mo = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_ve = _rl_term_vs = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_forward_char = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_terminal_can_insert = term_has_meta = 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      /* Reasonable defaults for tgoto().  Readline currently only uses </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">         tgoto if _rl_term_IC or _rl_term_DC is defined, but just in case we </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">         change that later... */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      PC = '\0'; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      _rl_term_backspace = _rl_term_backspace_default; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      BC = (char*)_rl_term_backspace; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      UP = (char*)_rl_term_up; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      return 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  get_term_capabilities (&buffer); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* Set up the variables that the termcap library expects the application </code></pre></td>
<td><button class="btnc" type="button" id="comment6" onclick="openForm(this.id)">Comment 6 (LAST)</button></td>
</tr>
<tr>
<td><pre><code class="language-c">     to provide, Added in Commit#a5rt22 */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  PC = _rl_term_pc ? *_rl_term_pc : 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  BC = (char*)_rl_term_backspace; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  UP = (char*)_rl_term_up; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (!_rl_term_cr) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_term_cr = "\r"; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_term_autowrap = tgetflag ((char *)"am") && tgetflag ((char *)"xn"); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* Allow calling application to set default height and width, using </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     rl_set_screen_size */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_screenwidth &lt;= 0 || _rl_screenheight &lt;= 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_get_screen_size (tty, 0); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* "An application program can assume that the terminal can do </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      character insertion if *any one of* the capabilities `IC', </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      `im', `ic' or `ip' is provided."  But we can't do anything if </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      only `ip' is provided, so... */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_terminal_can_insert = (_rl_term_IC || _rl_term_im || _rl_term_ic); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* Check to see if this terminal has a meta key and clear the capability </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     variables if there is none. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  term_has_meta = (tgetflag ((char *)"km") || tgetflag ((char *)"MT")); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (!term_has_meta) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    _rl_term_mm = _rl_term_mo = (char *)NULL; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  /* Attempt to find and bind the arrow keys.  Do not override already </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     bound keys in an overzealous attempt, however. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  bind_termcap_arrow_keys (emacs_standard_keymap); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (VI_MODE) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  bind_termcap_arrow_keys (vi_movement_keymap); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  bind_termcap_arrow_keys (vi_insertion_keymap); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* VI_MODE */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Bind the arrow key sequences from the termcap description in MAP. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">static void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">bind_termcap_arrow_keys (map) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     Keymap map; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  Keymap xkeymap; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  xkeymap = _rl_keymap; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_keymap = map; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_ku, rl_get_previous_history); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_kd, rl_get_next_history); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_kr, rl_forward_char); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_kl, rl_backward_char); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_kh, rl_beg_of_line);	/* Home */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_at7, rl_end_of_line);	/* End */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  rl_bind_keyseq_if_unbound (_rl_term_kD, rl_delete); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_keymap = xkeymap; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">const char * </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_get_termcap (cap) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     const char *cap; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  register unsigned int i; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (tcap_initialized == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    return ((char *)NULL); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  for (i = 0; i &lt; NUM_TC_STRINGS; i++) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (tc_strings[i].tc_var[0] == cap[0] && strcmp (tc_strings[i].tc_var, cap) == 0) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        return *(tc_strings[i].tc_value); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return ((char *)NULL); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Re-initialize the terminal considering that the TERM/TERMCAP variable </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   has changed. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_reset_terminal (terminal_name) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     const char *terminal_name; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_screenwidth = _rl_screenheight = 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  _rl_init_terminal_io (terminal_name); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* A function for the use of tputs () */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#ifdef _MINIX </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_output_character_function (c) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int c; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  putc (c, _rl_out_stream); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#else /* !_MINIX */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_output_character_function (c) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int c; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return putc (c, _rl_out_stream); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* !_MINIX */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Write COUNT characters from STRING to the output stream. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_output_some_chars (string, count) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     const char *string; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int count; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (fwrite (string, 1, count, _rl_out_stream) != (size_t)count) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    fprintf(stderr, "Write failed\n"); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Move the cursor back. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_backspace (count) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int count; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  register int i; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_term_backspace) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    for (i = 0; i &lt; count; i++) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      tputs (_rl_term_backspace, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  else </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    for (i = 0; i &lt; count; i++) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      putc ('\b', _rl_out_stream); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Move to the start of the next line. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_crlf () </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if defined (NEW_TTY_DRIVER) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_term_cr) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    tputs (_rl_term_cr, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif /* NEW_TTY_DRIVER */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  putc ('\n', _rl_out_stream); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return 0; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Ring the terminal bell. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">int </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">rl_ding () </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (readline_echoing_p) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      switch (_rl_bell_preference) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	case NO_BELL: </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	default: </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  break; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	case VISIBLE_BELL: </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  if (_rl_visible_bell) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	      tputs (_rl_visible_bell, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	      break; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  /* FALLTHROUGH */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	case AUDIBLE_BELL: </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  fprintf (stderr, "\007"); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  fflush (stderr); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  break; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">        } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      return (0); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  return (-1); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* **************************************************************** */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*								    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*	 	Controlling the Meta Key and Keypad		    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*								    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* **************************************************************** */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_enable_meta_key () </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if !defined (__DJGPP__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (term_has_meta && _rl_term_mm) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    tputs (_rl_term_mm, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_control_keypad (on) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int on; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#if !defined (__DJGPP__) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (on && _rl_term_ks) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    tputs (_rl_term_ks, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  else if (!on && _rl_term_ke) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    tputs (_rl_term_ke, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">#endif </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* **************************************************************** */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*								    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*	 		Controlling the Cursor			    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/*								    */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* **************************************************************** */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c"> </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">/* Set the cursor appropriately depending on IM, which is one of the </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   insert modes (insert or overwrite).  Insert mode gets the normal </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   cursor.  Overwrite mode gets a very visible cursor.  Only does </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">   anything if we have both capabilities. */ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">void </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">_rl_set_cursor (im, force) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">     int im, force; </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">  if (_rl_term_ve && _rl_term_vs) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    { </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">      if (force || im != rl_insert_mode) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	{ </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  if (im == RL_IM_OVERWRITE) </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	    tputs (_rl_term_vs, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	  else </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	    tputs (_rl_term_ve, 1, _rl_output_character_function); </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">	} </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">    } </code></pre></td>
</tr>
<tr>
<td><pre><code class="language-c">} </code></pre></td>
</tr>
  <!-- end -->
  		</table>
  		
  		<code class="language-c">
  		</code>
  	</pre>
  </body>
</html>
<script async src="./javascript/index.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>